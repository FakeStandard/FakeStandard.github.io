<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>【.NET】打造 Blazor ToDoList | How can I help</title>
<meta name="keywords" content="DotNET, Blazor, TodoList" />
<meta name="description" content="Prerequisites .NET 5.0 SDK 或之後的版本
Start 使用 VS 2019 建立 Blazor，跟隨官網文件 Step by step。
建立新專案 選擇【Blazor 應用程式】專案
選擇【Blazor Server 應用程式】樣板
建立 Razor 元件 新建立的專案在方案總管下的 Pages 資料夾內，可以看到已經有建立好的預設頁面，在該資料夾下建立 Todo.razor。
建立 Razor 元件時要注意
 檔案名稱開頭第一個字母必須大寫 副檔名為 .razor 結尾  將 Todo 元件添加到導航列 開啟 Pages/Todo.razor 添加相對應的 URL @page &quot;/todo&quot;
@page &#34;/todo&#34; &lt;h3&gt;Todo&lt;/h3&gt; @code { } 開啟 Shared/NavMenu.razor，此 razor 為應用程式其中一個版面配置，可避免應用程式中使用重複的元件，在此配置中添加以下代碼
&lt;ul class=&#34;nav flex-column&#34;&gt; ... &lt;li class=&#34;nav-item px-3&#34;&gt; &lt;NavLink class=&#34;nav-link&#34; href=&#34;todo&#34;&gt; &lt;span class=&#34;oi oi-list-rich&#34; aria-hidden=&#34;true&#34;&gt;&lt;/span&gt; Todo &lt;/NavLink&gt; &lt;/li&gt; &lt;/ul&gt; 建立 TodoItem 類別 在專案目錄下建立 /TodoList/TodoItem.">
<meta name="author" content="Polar Bear">
<link rel="canonical" href="https://fakestandard.github.io/post/dotnet/dotnet-1-blazor/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.d1b405b7c6bf1b09aebca33eb6e2d8bd070113d119bdfa2715c32f6408f9fbee.css" integrity="sha256-0bQFt8a/GwmuvKM&#43;tuLYvQcBE9EZvfonFcMvZAj5&#43;&#43;4=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>


<script data-ad-client="ca-pub-4877674098686024" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<meta name="google-site-verification" content="iCWzIE4kN0sAVM_Slr-q8E5zIT2Qfs-IxUuxhpFVD94" />



<link rel="icon" href="https://fakestandard.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://fakestandard.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://fakestandard.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://fakestandard.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://fakestandard.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.81.0" />
<meta property="og:title" content="【.NET】打造 Blazor ToDoList" />
<meta property="og:description" content="Prerequisites .NET 5.0 SDK 或之後的版本
Start 使用 VS 2019 建立 Blazor，跟隨官網文件 Step by step。
建立新專案 選擇【Blazor 應用程式】專案
選擇【Blazor Server 應用程式】樣板
建立 Razor 元件 新建立的專案在方案總管下的 Pages 資料夾內，可以看到已經有建立好的預設頁面，在該資料夾下建立 Todo.razor。
建立 Razor 元件時要注意
 檔案名稱開頭第一個字母必須大寫 副檔名為 .razor 結尾  將 Todo 元件添加到導航列 開啟 Pages/Todo.razor 添加相對應的 URL @page &quot;/todo&quot;
@page &#34;/todo&#34; &lt;h3&gt;Todo&lt;/h3&gt; @code { } 開啟 Shared/NavMenu.razor，此 razor 為應用程式其中一個版面配置，可避免應用程式中使用重複的元件，在此配置中添加以下代碼
&lt;ul class=&#34;nav flex-column&#34;&gt; ... &lt;li class=&#34;nav-item px-3&#34;&gt; &lt;NavLink class=&#34;nav-link&#34; href=&#34;todo&#34;&gt; &lt;span class=&#34;oi oi-list-rich&#34; aria-hidden=&#34;true&#34;&gt;&lt;/span&gt; Todo &lt;/NavLink&gt; &lt;/li&gt; &lt;/ul&gt; 建立 TodoItem 類別 在專案目錄下建立 /TodoList/TodoItem." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://fakestandard.github.io/post/dotnet/dotnet-1-blazor/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-03-28T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-03-28T21:47:49&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="【.NET】打造 Blazor ToDoList"/>
<meta name="twitter:description" content="Prerequisites .NET 5.0 SDK 或之後的版本
Start 使用 VS 2019 建立 Blazor，跟隨官網文件 Step by step。
建立新專案 選擇【Blazor 應用程式】專案
選擇【Blazor Server 應用程式】樣板
建立 Razor 元件 新建立的專案在方案總管下的 Pages 資料夾內，可以看到已經有建立好的預設頁面，在該資料夾下建立 Todo.razor。
建立 Razor 元件時要注意
 檔案名稱開頭第一個字母必須大寫 副檔名為 .razor 結尾  將 Todo 元件添加到導航列 開啟 Pages/Todo.razor 添加相對應的 URL @page &quot;/todo&quot;
@page &#34;/todo&#34; &lt;h3&gt;Todo&lt;/h3&gt; @code { } 開啟 Shared/NavMenu.razor，此 razor 為應用程式其中一個版面配置，可避免應用程式中使用重複的元件，在此配置中添加以下代碼
&lt;ul class=&#34;nav flex-column&#34;&gt; ... &lt;li class=&#34;nav-item px-3&#34;&gt; &lt;NavLink class=&#34;nav-link&#34; href=&#34;todo&#34;&gt; &lt;span class=&#34;oi oi-list-rich&#34; aria-hidden=&#34;true&#34;&gt;&lt;/span&gt; Todo &lt;/NavLink&gt; &lt;/li&gt; &lt;/ul&gt; 建立 TodoItem 類別 在專案目錄下建立 /TodoList/TodoItem."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://fakestandard.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "【.NET】打造 Blazor ToDoList",
      "item": "https://fakestandard.github.io/post/dotnet/dotnet-1-blazor/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【.NET】打造 Blazor ToDoList",
  "name": "【.NET】打造 Blazor ToDoList",
  "description": "Prerequisites .NET 5.0 SDK 或之後的版本\nStart 使用 VS 2019 建立 Blazor，跟隨官網文件 Step by step。\n建立新專案 選擇【Blazor 應用程式】專案\n選擇【Blazor Server 應用程式】樣板\n建立 Razor 元件 新建立的專案在方案總管下的 Pages 資料夾內，可以看到已經有建立好的預設頁面，在該資料夾下建立 Todo.razor。\n建立 Razor 元件時要注意\n 檔案名稱開頭第一個字母必須大寫 副檔名為 .razor 結尾  將 Todo 元件添加到導航列 開啟 Pages/Todo.razor 添加相對應的 URL @page \u0026quot;/todo\u0026quot;\n@page \u0026#34;/todo\u0026#34; \u0026lt;h3\u0026gt;Todo\u0026lt;/h3\u0026gt; @code { } 開啟 Shared/NavMenu.razor，此 razor 為應用程式其中一個版面配置，可避免應用程式中使用重複的元件，在此配置中添加以下代碼\n\u0026lt;ul class=\u0026#34;nav flex-column\u0026#34;\u0026gt; ... \u0026lt;li class=\u0026#34;nav-item px-3\u0026#34;\u0026gt; \u0026lt;NavLink class=\u0026#34;nav-link\u0026#34; href=\u0026#34;todo\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;oi oi-list-rich\u0026#34; aria-hidden=\u0026#34;true\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; Todo \u0026lt;/NavLink\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; 建立 TodoItem 類別 在專案目錄下建立 /TodoList/TodoItem.",
  "keywords": [
    "DotNET", "Blazor", "TodoList"
  ],
  "articleBody": "Prerequisites .NET 5.0 SDK 或之後的版本\nStart 使用 VS 2019 建立 Blazor，跟隨官網文件 Step by step。\n建立新專案 選擇【Blazor 應用程式】專案\n選擇【Blazor Server 應用程式】樣板\n建立 Razor 元件 新建立的專案在方案總管下的 Pages 資料夾內，可以看到已經有建立好的預設頁面，在該資料夾下建立 Todo.razor。\n建立 Razor 元件時要注意\n 檔案名稱開頭第一個字母必須大寫 副檔名為 .razor 結尾  將 Todo 元件添加到導航列 開啟 Pages/Todo.razor 添加相對應的 URL @page \"/todo\"\n@page \"/todo\" h3Todoh3 @code { } 開啟 Shared/NavMenu.razor，此 razor 為應用程式其中一個版面配置，可避免應用程式中使用重複的元件，在此配置中添加以下代碼\nul class=\"nav flex-column\" ... li class=\"nav-item px-3\" NavLink class=\"nav-link\" href=\"todo\" span class=\"oi oi-list-rich\" aria-hidden=\"true\"span Todo NavLink li ul 建立 TodoItem 類別 在專案目錄下建立 /TodoList/TodoItem.cs 類別，以保存待辦清單集合\npublic class TodoItem { public string Title { get; set; } public bool IsDone { get; set; } } 在 UI 渲染清單 在 Pages/Todo.razor 變更下列代碼\n@page \"/todo\" h3Todoh3 ul  @foreach (var todo in todos) { li@todo.Titleli } ul @code { // 建立 todo 清單集合  private IList todos = new List(); } 此時還不會有任何清單呈現，因為在 todos 集合中尚未添加項目。\n添加新增功能 繼續在 Pages/Todo.razor 新增文字輸入框及按鈕\nul ... ul  input placeholder=\"Something todo\" @bind=\"newTodo\"/ button @onclick=\"AddTodo\"Add todobutton 在 @code 區塊內加入一個與文字輸入框綁定的 string，以及按下 Add Todo 按鈕後呼叫的 AddTodo 方法\n@code { ... // 取得新的 todo 標題  private string newTodo; ///   /// 新增清單項目  ///   private void AddTodo() { // Todo: Add the todo  // 將綁定的 newTodo 文字新增至 todos 集合中  if (!string.IsNullOrWhiteSpace(newTodo)) { todos.Add(new TodoItem { Title = newTodo }); newTodo = string.Empty; } } } 變更清單呈現方式  每個清單項目前添加核取方塊 checkbox ，供使用者紀錄已完成項目 每個清單項目的文字輸入框設定為可編輯   @foreach(var todo in todos) { li  input type=\"checkbox\" @bind=\"todo.IsDone\" / input @bind=\"todo.Title\" / li } 標題顯示未完成項目數量 更新  標頭為可計算未完成項目的數量\nh3Todo (@todos.Count(todo = !todo.IsDone))h3 Done 啟動本地瀏覽，享受成品！\n使用 command shell 建立專案 前面建立專案時是使用 IDE 介面，這裡補充一下如何使用指令來建立專案。\n建立 Blazor 專案 先 CD 到欲建立資料夾的目錄，使用下列指令來建立 Blazor 專案，執行完後會看到該目錄下已建立 TodoList 資料夾\n$ dotnet new blazorserver -o TodoList 將當前目錄更換到 TodoList 資料夾\n$ cd TodoList 新增 Razor Component -n 為建立元件的名稱， -o 為輸出的位置，下列該指令會在 Pages 資料夾下建立一個 Todo.razor 的元件\n$ dotnet new razorcomponent -n Todo -o Pages 到目前為止已經建立一個 Blazor 專案，並為專案內建立 Razor 元件，接下來的程式碼修改如同上述操作，這邊就不再重複介紹。\n完成後使用下列代碼來啟用本地伺服器瀏覽\n$ dotnet watch run Reference Build a Blazor todo list app\n",
  "wordCount" : "306",
  "inLanguage": "en",
  "datePublished": "2021-03-28T00:00:00Z",
  "dateModified": "2021-03-28T21:47:49+08:00",
  "author":{
    "@type": "Person",
    "name": "Polar Bear"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://fakestandard.github.io/post/dotnet/dotnet-1-blazor/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "How can I help",
    "logo": {
      "@type": "ImageObject",
      "url": "https://fakestandard.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://fakestandard.github.io/" accesskey="h" title="How can I help (Alt + H)">How can I help</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://fakestandard.github.io/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/algorithm/" title="Algorithm">
                    <span>Algorithm</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/netcore/" title=".NET Core">
                    <span>.NET Core</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://fakestandard.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://fakestandard.github.io/post/">Posts</a></div>
    <h1 class="post-title">
      【.NET】打造 Blazor ToDoList
    </h1>
    <div class="post-meta">March 28, 2021&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Polar Bear
</div>
  </header> 
  <div class="post-content"><p><strong>Prerequisites</strong>
.NET 5.0 SDK 或之後的版本</p>
<h1 id="start">Start<a hidden class="anchor" aria-hidden="true" href="#start">#</a></h1>
<p>使用 VS 2019 建立 Blazor，跟隨官網文件 Step by step。</p>
<h2 id="建立新專案">建立新專案<a hidden class="anchor" aria-hidden="true" href="#建立新專案">#</a></h2>
<p>選擇【Blazor 應用程式】專案</p>
<p><img loading="lazy" src="/images/NetCore_Blazor/BlazorToDoList001.png" alt=""  />
</p>
<p>選擇【Blazor Server 應用程式】樣板</p>
<p><img loading="lazy" src="/images/NetCore_Blazor/BlazorToDoList002.png" alt=""  />
</p>
<h2 id="建立-razor-元件">建立 Razor 元件<a hidden class="anchor" aria-hidden="true" href="#建立-razor-元件">#</a></h2>
<p>新建立的專案在方案總管下的 <code>Pages</code> 資料夾內，可以看到已經有建立好的預設頁面，在該資料夾下建立 <code>Todo.razor</code>。</p>
<p>建立 Razor 元件時要注意</p>
<ul>
<li>檔案名稱開頭第一個字母必須大寫</li>
<li>副檔名為 <code>.razor</code> 結尾</li>
</ul>
<p><img loading="lazy" src="/images/NetCore_Blazor/BlazorToDoList003.png" alt=""  />
</p>
<p><img loading="lazy" src="/images/NetCore_Blazor/BlazorToDoList004.png" alt=""  />
</p>
<h2 id="將-todo-元件添加到導航列">將 Todo 元件添加到導航列<a hidden class="anchor" aria-hidden="true" href="#將-todo-元件添加到導航列">#</a></h2>
<p>開啟 <code>Pages/Todo.razor</code> 添加相對應的 URL <code>@page &quot;/todo&quot;</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">@page &#34;/todo&#34;

&lt;<span style="color:#f92672">h3</span>&gt;Todo&lt;/<span style="color:#f92672">h3</span>&gt;

@code {

}
</code></pre></div><p>開啟 <code>Shared/NavMenu.razor</code>，此 razor 為應用程式其中一個版面配置，可避免應用程式中使用重複的元件，在此配置中添加以下代碼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nav flex-column&#34;</span>&gt;

    ...

    &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nav-item px-3&#34;</span>&gt;
        &lt;<span style="color:#f92672">NavLink</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;nav-link&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;todo&#34;</span>&gt;
            &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;oi oi-list-rich&#34;</span> <span style="color:#a6e22e">aria-hidden</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt; Todo
        &lt;/<span style="color:#f92672">NavLink</span>&gt;
    &lt;/<span style="color:#f92672">li</span>&gt;
&lt;/<span style="color:#f92672">ul</span>&gt;
</code></pre></div><h2 id="建立-todoitem-類別">建立 TodoItem 類別<a hidden class="anchor" aria-hidden="true" href="#建立-todoitem-類別">#</a></h2>
<p>在專案目錄下建立 <code>/TodoList/TodoItem.cs</code> 類別，以保存待辦清單集合</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TodoItem</span>
{
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Title { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">bool</span> IsDone { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
}
</code></pre></div><h2 id="在-ui-渲染清單">在 UI 渲染清單<a hidden class="anchor" aria-hidden="true" href="#在-ui-渲染清單">#</a></h2>
<p>在 <code>Pages/Todo.razor</code> 變更下列代碼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">@page &#34;/todo&#34;

&lt;<span style="color:#f92672">h3</span>&gt;Todo&lt;/<span style="color:#f92672">h3</span>&gt;

&lt;<span style="color:#f92672">ul</span>&gt;
    <span style="color:#75715e">&lt;!--走訪 todo 集合，添加清單標記--&gt;</span>
    @foreach (var todo in todos)
    {
        &lt;<span style="color:#f92672">li</span>&gt;@todo.Title&lt;/<span style="color:#f92672">li</span>&gt;
    }
&lt;/<span style="color:#f92672">ul</span>&gt;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp">@code {
    <span style="color:#75715e">// 建立 todo 清單集合
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> IList&lt;TodoItem&gt; todos = <span style="color:#66d9ef">new</span> List&lt;TodoItem&gt;();
}
</code></pre></div><p>此時還不會有任何清單呈現，因為在 <code>todos</code> 集合中尚未添加項目。</p>
<h2 id="添加新增功能">添加新增功能<a hidden class="anchor" aria-hidden="true" href="#添加新增功能">#</a></h2>
<p>繼續在 <code>Pages/Todo.razor</code> 新增文字輸入框及按鈕</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">ul</span>&gt;
    ...
&lt;/<span style="color:#f92672">ul</span>&gt;

<span style="color:#75715e">&lt;!--bind:屬性繫結--&gt;</span>
&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Something todo&#34;</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">bind</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;newTodo&#34;</span>/&gt;
&lt;<span style="color:#f92672">button</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;AddTodo&#34;</span>&gt;Add todo&lt;/<span style="color:#f92672">button</span>&gt;
</code></pre></div><p>在 <code>@code</code> 區塊內加入一個與文字輸入框綁定的 <code>string</code>，以及按下 <code>Add Todo</code> 按鈕後呼叫的 <code>AddTodo</code> 方法</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp">@code {

    ...

    <span style="color:#75715e">// 取得新的 todo 標題
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> newTodo;

    <span style="color:#75715e">/// &lt;summary&gt;
</span><span style="color:#75715e"></span>    <span style="color:#75715e">/// 新增清單項目
</span><span style="color:#75715e"></span>    <span style="color:#75715e">/// &lt;/summary&gt;
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> AddTodo()
    {
        <span style="color:#75715e">// Todo: Add the todo
</span><span style="color:#75715e"></span>
        <span style="color:#75715e">// 將綁定的 newTodo 文字新增至 todos 集合中
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (!<span style="color:#66d9ef">string</span>.IsNullOrWhiteSpace(newTodo))
        {
            todos.Add(<span style="color:#66d9ef">new</span> TodoItem { Title = newTodo });
            newTodo = <span style="color:#66d9ef">string</span>.Empty;
        }
    }
}
</code></pre></div><h2 id="變更清單呈現方式">變更清單呈現方式<a hidden class="anchor" aria-hidden="true" href="#變更清單呈現方式">#</a></h2>
<ul>
<li>每個清單項目前添加核取方塊 <code>checkbox</code> ，供使用者紀錄已完成項目</li>
<li>每個清單項目的文字輸入框設定為可編輯</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!--走訪 todo 集合，添加清單標記--&gt;</span>
@foreach(var todo in todos)
{
    &lt;<span style="color:#f92672">li</span>&gt;
        <span style="color:#75715e">&lt;!--綁定 todo 屬性--&gt;</span>
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">bind</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;todo.IsDone&#34;</span> /&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">bind</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;todo.Title&#34;</span> /&gt;
    &lt;/<span style="color:#f92672">li</span>&gt;
}
</code></pre></div><h2 id="標題顯示未完成項目數量">標題顯示未完成項目數量<a hidden class="anchor" aria-hidden="true" href="#標題顯示未完成項目數量">#</a></h2>
<p>更新 <code>&lt;h3&gt;</code> 標頭為可計算未完成項目的數量</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">h3</span>&gt;Todo (@todos.Count(todo =&gt; !todo.IsDone))&lt;/<span style="color:#f92672">h3</span>&gt;
</code></pre></div><h2 id="done">Done<a hidden class="anchor" aria-hidden="true" href="#done">#</a></h2>
<p>啟動本地瀏覽，享受成品！</p>
<p><img loading="lazy" src="/images/NetCore_Blazor/BlazorToDoList005.png" alt=""  />
</p>
<h1 id="使用-command-shell-建立專案">使用 command shell 建立專案<a hidden class="anchor" aria-hidden="true" href="#使用-command-shell-建立專案">#</a></h1>
<p>前面建立專案時是使用 IDE 介面，這裡補充一下如何使用指令來建立專案。</p>
<h2 id="建立-blazor-專案">建立 Blazor 專案<a hidden class="anchor" aria-hidden="true" href="#建立-blazor-專案">#</a></h2>
<p>先 <code>CD</code> 到欲建立資料夾的目錄，使用下列指令來建立 Blazor 專案，執行完後會看到該目錄下已建立 <code>TodoList</code> 資料夾</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ dotnet new blazorserver -o TodoList
</code></pre></div><p>將當前目錄更換到 <code>TodoList</code> 資料夾</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd TodoList
</code></pre></div><h2 id="新增-razor-component">新增 Razor Component<a hidden class="anchor" aria-hidden="true" href="#新增-razor-component">#</a></h2>
<p><code>-n</code> 為建立元件的名稱， <code>-o</code> 為輸出的位置，下列該指令會在 <code>Pages</code> 資料夾下建立一個 <code>Todo.razor</code> 的元件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ dotnet new razorcomponent -n Todo -o Pages
</code></pre></div><p>到目前為止已經建立一個 Blazor 專案，並為專案內建立 Razor 元件，接下來的程式碼修改如同上述操作，這邊就不再重複介紹。</p>
<p>完成後使用下列代碼來<strong>啟用本地伺服器瀏覽</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ dotnet watch run
</code></pre></div><h1 id="reference">Reference<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h1>
<p><a href="https://docs.microsoft.com/zh-tw/aspnet/core/tutorials/build-a-blazor-app?view=aspnetcore-5.0">Build a Blazor todo list app</a></p>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://fakestandard.github.io/tags/dotnet/">DotNET</a></li>
      <li><a href="https://fakestandard.github.io/tags/blazor/">Blazor</a></li>
      <li><a href="https://fakestandard.github.io/tags/todolist/">TodoList</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://fakestandard.github.io/post/mssql/mssql-1-performanceissues/">
    <span class="title">« Prev Page</span>
    <br>
    <span>【MSSQL】如何改善 SQL 常見的效能問題</span>
  </a>
  <a class="next" href="https://fakestandard.github.io/post/windows/windows-4-cmdadjustmentdefaultsize/">
    <span class="title">Next Page »</span>
    <br>
    <span>【Windows】如何改變命令提示字元(cmd)視窗預設大小</span>
  </a>
</nav>

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET】打造 Blazor ToDoList on twitter"
        href="https://twitter.com/intent/tweet/?text=%e3%80%90.NET%e3%80%91%e6%89%93%e9%80%a0%20Blazor%20ToDoList&amp;url=https%3a%2f%2ffakestandard.github.io%2fpost%2fdotnet%2fdotnet-1-blazor%2f&amp;hashtags=DotNET%2cBlazor%2cTodoList">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET】打造 Blazor ToDoList on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ffakestandard.github.io%2fpost%2fdotnet%2fdotnet-1-blazor%2f&amp;title=%e3%80%90.NET%e3%80%91%e6%89%93%e9%80%a0%20Blazor%20ToDoList&amp;summary=%e3%80%90.NET%e3%80%91%e6%89%93%e9%80%a0%20Blazor%20ToDoList&amp;source=https%3a%2f%2ffakestandard.github.io%2fpost%2fdotnet%2fdotnet-1-blazor%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET】打造 Blazor ToDoList on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2ffakestandard.github.io%2fpost%2fdotnet%2fdotnet-1-blazor%2f&title=%e3%80%90.NET%e3%80%91%e6%89%93%e9%80%a0%20Blazor%20ToDoList">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET】打造 Blazor ToDoList on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ffakestandard.github.io%2fpost%2fdotnet%2fdotnet-1-blazor%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET】打造 Blazor ToDoList on whatsapp"
        href="https://api.whatsapp.com/send?text=%e3%80%90.NET%e3%80%91%e6%89%93%e9%80%a0%20Blazor%20ToDoList%20-%20https%3a%2f%2ffakestandard.github.io%2fpost%2fdotnet%2fdotnet-1-blazor%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET】打造 Blazor ToDoList on telegram"
        href="https://telegram.me/share/url?text=%e3%80%90.NET%e3%80%91%e6%89%93%e9%80%a0%20Blazor%20ToDoList&amp;url=https%3a%2f%2ffakestandard.github.io%2fpost%2fdotnet%2fdotnet-1-blazor%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="https://fakestandard.github.io/">How can I help</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
