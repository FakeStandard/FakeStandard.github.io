<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>【.NET Core】靜態檔案 Static Files | How can I help</title>
<meta name="keywords" content="DotNET Core, ASP.NET Core 5, CSharp, Static Files" />
<meta name="description" content="【ASP.NET Core 5】
靜態檔案是 HTML、css、image、js 等資源檔案，過去 .NET Framework 可直接被存取，在 ASP.NET Core 中，已不能直接被瀏覽，對於存取有特定的限制。
Start 首先，先了解 Content root 以及 Web root，硬翻成中文為內容根目錄 &amp; Web 根目錄。
Content root（內容根目錄） Content root 預設為專案的根目錄，包含
 裝載應用程式的可執行檔 .exe 組成應用程式的已編譯元件 .dll 應用程式所使用的內容檔案  Razor(.cshtml、.razor) 設定檔(.json、.xml) 資料檔案(.db)   Web 根目錄(Web root)  Web root（Web 根目錄） Web root 為公共靜態資源的基本路徑，預設路徑為 {content root}/wwwroot
 樣式 .css JavaScript .js 影像檔 .png、.jpg  建立一個專案，在方案總管中找到 wwwroot，可看到預設已建立 css、js、lib 資料夾，使用路徑 https://localhost:5000/css/site.css 嘗試讀取 ~/css/site.css 該檔案， 可直接瀏覽檔案內容。
測試自行建立的資料夾是否能存取，在 wwwroot 目錄下建立 images 資料夾以自定義靜態檔案路徑，並放置一張影像檔在該目錄下，嘗試使用 URL https://localhost:5000/images/MyImages.">
<meta name="author" content="Polar Bear">
<link rel="canonical" href="https://fakestandard.github.io/netcore/netcore5-4-staticfiles/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.d1b405b7c6bf1b09aebca33eb6e2d8bd070113d119bdfa2715c32f6408f9fbee.css" integrity="sha256-0bQFt8a/GwmuvKM&#43;tuLYvQcBE9EZvfonFcMvZAj5&#43;&#43;4=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>


<script data-ad-client="ca-pub-4877674098686024" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<meta name="google-site-verification" content="iCWzIE4kN0sAVM_Slr-q8E5zIT2Qfs-IxUuxhpFVD94" />
<link rel="icon" href="https://fakestandard.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://fakestandard.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://fakestandard.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://fakestandard.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://fakestandard.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.81.0" />
<meta property="og:title" content="【.NET Core】靜態檔案 Static Files" />
<meta property="og:description" content="【ASP.NET Core 5】
靜態檔案是 HTML、css、image、js 等資源檔案，過去 .NET Framework 可直接被存取，在 ASP.NET Core 中，已不能直接被瀏覽，對於存取有特定的限制。
Start 首先，先了解 Content root 以及 Web root，硬翻成中文為內容根目錄 &amp; Web 根目錄。
Content root（內容根目錄） Content root 預設為專案的根目錄，包含
 裝載應用程式的可執行檔 .exe 組成應用程式的已編譯元件 .dll 應用程式所使用的內容檔案  Razor(.cshtml、.razor) 設定檔(.json、.xml) 資料檔案(.db)   Web 根目錄(Web root)  Web root（Web 根目錄） Web root 為公共靜態資源的基本路徑，預設路徑為 {content root}/wwwroot
 樣式 .css JavaScript .js 影像檔 .png、.jpg  建立一個專案，在方案總管中找到 wwwroot，可看到預設已建立 css、js、lib 資料夾，使用路徑 https://localhost:5000/css/site.css 嘗試讀取 ~/css/site.css 該檔案， 可直接瀏覽檔案內容。
測試自行建立的資料夾是否能存取，在 wwwroot 目錄下建立 images 資料夾以自定義靜態檔案路徑，並放置一張影像檔在該目錄下，嘗試使用 URL https://localhost:5000/images/MyImages." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://fakestandard.github.io/netcore/netcore5-4-staticfiles/" /><meta property="article:section" content="NETCore" />
<meta property="article:published_time" content="2021-06-06T16:17:44&#43;08:00" />
<meta property="article:modified_time" content="2021-06-06T16:17:44&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="【.NET Core】靜態檔案 Static Files"/>
<meta name="twitter:description" content="【ASP.NET Core 5】
靜態檔案是 HTML、css、image、js 等資源檔案，過去 .NET Framework 可直接被存取，在 ASP.NET Core 中，已不能直接被瀏覽，對於存取有特定的限制。
Start 首先，先了解 Content root 以及 Web root，硬翻成中文為內容根目錄 &amp; Web 根目錄。
Content root（內容根目錄） Content root 預設為專案的根目錄，包含
 裝載應用程式的可執行檔 .exe 組成應用程式的已編譯元件 .dll 應用程式所使用的內容檔案  Razor(.cshtml、.razor) 設定檔(.json、.xml) 資料檔案(.db)   Web 根目錄(Web root)  Web root（Web 根目錄） Web root 為公共靜態資源的基本路徑，預設路徑為 {content root}/wwwroot
 樣式 .css JavaScript .js 影像檔 .png、.jpg  建立一個專案，在方案總管中找到 wwwroot，可看到預設已建立 css、js、lib 資料夾，使用路徑 https://localhost:5000/css/site.css 嘗試讀取 ~/css/site.css 該檔案， 可直接瀏覽檔案內容。
測試自行建立的資料夾是否能存取，在 wwwroot 目錄下建立 images 資料夾以自定義靜態檔案路徑，並放置一張影像檔在該目錄下，嘗試使用 URL https://localhost:5000/images/MyImages."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "NETCores",
      "item": "https://fakestandard.github.io/netcore/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "【.NET Core】靜態檔案 Static Files",
      "item": "https://fakestandard.github.io/netcore/netcore5-4-staticfiles/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "【.NET Core】靜態檔案 Static Files",
  "name": "【.NET Core】靜態檔案 Static Files",
  "description": "【ASP.NET Core 5】\n靜態檔案是 HTML、css、image、js 等資源檔案，過去 .NET Framework 可直接被存取，在 ASP.NET Core 中，已不能直接被瀏覽，對於存取有特定的限制。\nStart 首先，先了解 Content root 以及 Web root，硬翻成中文為內容根目錄 \u0026amp; Web 根目錄。\nContent root（內容根目錄） Content root 預設為專案的根目錄，包含\n 裝載應用程式的可執行檔 .exe 組成應用程式的已編譯元件 .dll 應用程式所使用的內容檔案  Razor(.cshtml、.razor) 設定檔(.json、.xml) 資料檔案(.db)   Web 根目錄(Web root)  Web root（Web 根目錄） Web root 為公共靜態資源的基本路徑，預設路徑為 {content root}/wwwroot\n 樣式 .css JavaScript .js 影像檔 .png、.jpg  建立一個專案，在方案總管中找到 wwwroot，可看到預設已建立 css、js、lib 資料夾，使用路徑 https://localhost:5000/css/site.css 嘗試讀取 ~/css/site.css 該檔案， 可直接瀏覽檔案內容。\n測試自行建立的資料夾是否能存取，在 wwwroot 目錄下建立 images 資料夾以自定義靜態檔案路徑，並放置一張影像檔在該目錄下，嘗試使用 URL https://localhost:5000/images/MyImages.",
  "keywords": [
    "DotNET Core", "ASP.NET Core 5", "CSharp", "Static Files"
  ],
  "articleBody": "【ASP.NET Core 5】\n靜態檔案是 HTML、css、image、js 等資源檔案，過去 .NET Framework 可直接被存取，在 ASP.NET Core 中，已不能直接被瀏覽，對於存取有特定的限制。\nStart 首先，先了解 Content root 以及 Web root，硬翻成中文為內容根目錄 \u0026 Web 根目錄。\nContent root（內容根目錄） Content root 預設為專案的根目錄，包含\n 裝載應用程式的可執行檔 .exe 組成應用程式的已編譯元件 .dll 應用程式所使用的內容檔案  Razor(.cshtml、.razor) 設定檔(.json、.xml) 資料檔案(.db)   Web 根目錄(Web root)  Web root（Web 根目錄） Web root 為公共靜態資源的基本路徑，預設路徑為 {content root}/wwwroot\n 樣式 .css JavaScript .js 影像檔 .png、.jpg  建立一個專案，在方案總管中找到 wwwroot，可看到預設已建立 css、js、lib 資料夾，使用路徑 https://localhost:5000/css/site.css 嘗試讀取 ~/css/site.css 該檔案， 可直接瀏覽檔案內容。\n測試自行建立的資料夾是否能存取，在 wwwroot 目錄下建立 images 資料夾以自定義靜態檔案路徑，並放置一張影像檔在該目錄下，嘗試使用 URL https://localhost:5000/images/MyImages.jpg 來讀取該檔案，應能正常瀏覽。\n指定 Web root 靜態檔案預設儲存於專案的 Web root 下，預設路徑為 {content root}/wwwroot，我們可以使用 UseWebRoot 方法，來變更預設的存放路徑。\n開啟 Program.cs，CreateDefaultBuilder 方法可將 content root 設為目前的目錄。使用 UseWebRoot 方法將 Web root 變更為 public，隨後在 public 放置一張影像檔，實際測試 URL https://localhost:5000/public/MyImages.jpg，結果在未設定前無法讀取 wwwroot 以外的目錄，設定後就能讀取指定目錄。要注意的是，該動作的目標是變更，經變更後，wwwroot 該目錄會停用存取，取而代之的是 public。\n 若測試結果不相同，請嘗試清理瀏覽器快取。\n public class Program { public static void Main(string[] args) { CreateHostBuilder(args).Build().Run(); } public static IHostBuilder CreateHostBuilder(string[] args) = Host.CreateDefaultBuilder(args) .ConfigureWebHostDefaults(webBuilder = { webBuilder.UseStartup(); // 設置  webBuilder.UseWebRoot(\"public\"); }); } 註冊 UseStaticFiles Middleware 專案在預設情況下，已經在 Startup.cs 註冊靜態檔案中介軟體，在 Configure 方法中可以找到 app.UseStaticFiles()，該段即為用來啟用靜態檔案中介軟體的服務，嘗試將此段註解，實際測試 URL https://localhost:5000/public/MyImages.jpg，得到的結果是無法存取預設的靜態檔案 wwwroot。\npublic void Configure(IApplicationBuilder app, IWebHostEnvironment env) { ... // 啟用靜態檔案  app.UseStaticFiles(); ... } 啟用 Web root 以外的目錄檔案 前面使用 UseWebRoot 來改變 Web root 靜態檔案的預設路徑，如果想要同時存取兩個以上的目錄位址，例如可以同時存取 wwwroot 及其它同階層目錄 files，階層如下\n wwwroot  css images js   files  MyImage.jpg    我們可以藉由設定靜態檔案中介軟體來存取檔案，先啟用存取 wwwroot 目錄之服務，再啟用存取其他目錄之服務。\n// 需要引用的命名空間 using System.IO; using Microsoft.Extensions.FileProviders; ... public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { ... // wwwroot  app.UseStaticFiles(); // Other  app.UseStaticFiles(new StaticFileOptions { // 檔案提供位址  FileProvider = new PhysicalFileProvider( Path.Combine(env.ContentRootPath, \"files\")), // 靜態資源對應的 request path  RequestPath = \"/staticFiles\" }); ... } 通過上述設定，/staticFiles 區段公開了 files 目錄階層，實際測試 URL https://localhost:5000/staticFiles/MyImage.jpg，可正常瀏覽該目錄下的靜態檔案，達到 wwwroot 和 files 皆能瀏覽之效果。\n 若想停用 wwwroot 存取服務，將 app.UseStaticFiles() 註解調即可\n 預設檔案 預設頁面是提供訪客在進入網站時的第一個頁面，通常預設頁面會是 index.html，可以透過 UseDefaultFiles 方法來設定靜態檔案目錄的預設頁面，使用該方法時，會要求依序搜尋 wwwroot 資料夾內的檔案，順序如下\n default.htm default.html index.htm index.html  值得注意，必須在 UseStaticFiles 之前使用 UseDefaultFiles，若後啟用 UseDefaultFiles 服務的話，當 URL 為 / 時，UseStaticFiles 找不到檔案，就會直接回傳找不到，就不會有機會進入 UseStaticFiles。\n兩者的職責\n UseDefaultFiles 是嘗試請求預設檔案 UseStaticFiles 是回傳請求檔案  // 先啟用 app.UseDefaultFiles(); // 後啟用 app.UseStaticFiles(); 除了上述預設頁面，還可以自訂預設頁面，使用 DefaultFilesOptions 物件來自定義預設頁面，代碼如下\nvar options = new DefaultFilesOptions(); // 清空原本預設頁面 options.DefaultFileNames.Clear(); // 添加自定義預設頁面 options.DefaultFileNames.Add(\"myDefault.html\"); // 啟用自定義預設頁面 app.UseDefaultFiles(options); app.UseStaticFiles(); 使用自訂預設頁面時，如同預設頁面，會依序搜尋 wwwroot 資料夾內的檔案。實際測試在 wwwroot 新增 myDefault.html，將專案 run 起來，發現 https://localhost:5000/ 瀏覽頁面已經被更換為 myDefault.html，不再是預設的 ~/Home/Index。\n如果是想添加自訂的預設頁面，但不想將原先定義的四個預設頁面清除，在上述代碼中將 options.DefaultFileNames.Clear() 拿掉即可。\n瀏覽目錄 瀏覽目錄允許在指定的路徑中列出目錄，基於安全性的考量，預設會停用瀏覽目錄，但可以透過 AddDirectoryBrowser 及 UseDirectoryBrowser 來註冊及啟用該服務。\npublic void ConfigureServices(IServiceCollection services) { // 註冊瀏覽目錄服務  services.AddDirectoryBrowser(); } public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { ... // 啟用瀏覽目錄服務  app.UseDirectoryBrowser(); ... } 在空建構子的情況下，預設啟用的目錄為 wwwroot，例如跳轉到 https://localhost:5000/lib/，會列出 /wwwroot/lib 目錄下的所有檔案。\n若欲啟用瀏覽指定路徑的目錄，要先使用靜態檔案中介軟體來啟用存取檔案服務，接著再啟用瀏覽目錄服務。\npublic void ConfigureServices(IServiceCollection services) { // 註冊瀏覽目錄服務  services.AddDirectoryBrowser(); } public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { // 啟用指定目錄存取  app.UseStaticFiles(new StaticFileOptions { FileProvider = new PhysicalFileProvider( Path.Combine(env.ContentRootPath, \"files\")), RequestPath = \"/staticFiles\" }); // 啟用瀏覽指定目錄服務  app.UseDirectoryBrowser(new DirectoryBrowserOptions { FileProvider = new PhysicalFileProvider( Path.Combine(env.WebRootPath, \"files\")), RequestPath = \"/staticFiles\" }); } UseFileServer 先前介紹停用檔案存取的限制，以及開啟瀏覽目錄，UseFileServer 方法結合了 UseStaticFiles、UseDefaultFiles，也可以選擇性的結合 UseDirectoryBrowser。\n直接使用 UseFileServer 來啟用檔案服務，等同於使用 UseDefaultFiles 和 UseStaticFiles。\npublic void Configure(IApplicationBuilder app, IWebHostEnvironment env) { // 啟用檔案服務  app.UseFileServer(); // 等於同時使用下列兩種方法  // app.UseDefaultFiles();  // app.UseStaticFiles(); } 帶入參數 enableDirectoryBrowsin: true 來啟用瀏覽目錄、啟用存取靜態檔案以及預設檔案，預設頁面會更換為列出 wwwroot 目錄\napp.UseFileServer(enableDirectoryBrowsing: true); 上面目標是 wwwroot 目錄，欲指定其他目錄，代碼如下\npublic void Configure(IApplicationBuilder app, IWebHostEnvironment env) { app.UseFileServer(new FileServerOptions { FileProvider = new PhysicalFileProvider( Path.Combine(env.ContentRootPath, \"files\")), RequestPath = \"/staticFiles\", EnableDirectoryBrowsing = true }); } 官方寫說若 EnabledDirectoryBrowsing 的 value 為 true 時，需要調用 AddDirectoryBrowser()，在這裡筆者沒有註冊該服務依然可以啟用目錄，若無法瀏覽目錄的朋友，可以試著在 ConfigureServices 註冊該服務，看是否有效果。\npublic void ConfigureServices(IServiceCollection services) { // 註冊瀏覽目錄服務  services.AddDirectoryBrowser(); } Note 過去網站在存取靜態檔案並沒有什麼限制，只要知道目錄結構，就能存取檔案，如今 .NET Core 對此做出變革，雖然需要花點時間了解，網站安全性也相對的提升，了解如何操作靜態檔案後，就可好好建構出乾淨清晰的目錄架構了！\nReference Static files in ASP.NET Core\n",
  "wordCount" : "473",
  "inLanguage": "en",
  "datePublished": "2021-06-06T16:17:44+08:00",
  "dateModified": "2021-06-06T16:17:44+08:00",
  "author":{
    "@type": "Person",
    "name": "Polar Bear"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://fakestandard.github.io/netcore/netcore5-4-staticfiles/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "How can I help",
    "logo": {
      "@type": "ImageObject",
      "url": "https://fakestandard.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://fakestandard.github.io/" accesskey="h" title="How can I help (Alt + H)">How can I help</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://fakestandard.github.io/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/algorithm/" title="Algorithm">
                    <span>Algorithm</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/netcore/" title=".NET Core">
                    <span>.NET Core</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://fakestandard.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://fakestandard.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://fakestandard.github.io/netcore/">NETCores</a></div>
    <h1 class="post-title">
      【.NET Core】靜態檔案 Static Files
    </h1>
    <div class="post-meta">June 6, 2021&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Polar Bear
</div>
  </header> 
  <div class="post-content"><p>【ASP.NET Core 5】</p>
<p>靜態檔案是 <code>HTML</code>、<code>css</code>、<code>image</code>、<code>js</code> 等資源檔案，過去 .NET Framework 可直接被存取，在 ASP.NET Core 中，已不能直接被瀏覽，對於存取有特定的限制。</p>
<h1 id="start">Start<a hidden class="anchor" aria-hidden="true" href="#start">#</a></h1>
<p>首先，先了解 <code>Content root</code> 以及 <code>Web root</code>，硬翻成中文為<strong>內容根目錄</strong> &amp; <strong>Web 根目錄</strong>。</p>
<h3 id="content-root內容根目錄"><strong>Content root（內容根目錄）</strong><a hidden class="anchor" aria-hidden="true" href="#content-root內容根目錄">#</a></h3>
<p><code>Content root</code> 預設為專案的根目錄，包含</p>
<ul>
<li>裝載應用程式的可執行檔 <code>.exe</code></li>
<li>組成應用程式的已編譯元件 <code>.dll</code></li>
<li>應用程式所使用的內容檔案
<ul>
<li>Razor(<code>.cshtml</code>、<code>.razor</code>)</li>
<li>設定檔(<code>.json</code>、<code>.xml</code>)</li>
<li>資料檔案(<code>.db</code>)</li>
</ul>
</li>
<li>Web 根目錄(<code>Web root</code>)</li>
</ul>
<h3 id="web-rootweb-根目錄"><strong>Web root（Web 根目錄）</strong><a hidden class="anchor" aria-hidden="true" href="#web-rootweb-根目錄">#</a></h3>
<p><code>Web root</code> 為公共靜態資源的基本路徑，預設路徑為 <code>{content root}/wwwroot</code></p>
<ul>
<li>樣式 <code>.css</code></li>
<li>JavaScript <code>.js</code></li>
<li>影像檔 <code>.png</code>、<code>.jpg</code></li>
</ul>
<p>建立一個專案，在方案總管中找到 <code>wwwroot</code>，可看到預設已建立 <code>css</code>、<code>js</code>、<code>lib</code> 資料夾，使用路徑 <code>https://localhost:5000/css/site.css</code> 嘗試讀取 <code>~/css/site.css</code> 該檔案， 可直接瀏覽檔案內容。</p>
<p>測試自行建立的資料夾是否能存取，在 <code>wwwroot</code> 目錄下建立 <code>images</code> 資料夾以自定義靜態檔案路徑，並放置一張影像檔在該目錄下，嘗試使用 URL <code>https://localhost:5000/images/MyImages.jpg</code> 來讀取該檔案，應能正常瀏覽。</p>
<h2 id="指定-web-root">指定 Web root<a hidden class="anchor" aria-hidden="true" href="#指定-web-root">#</a></h2>
<p>靜態檔案預設儲存於專案的 Web root 下，預設路徑為 <code>{content root}/wwwroot</code>，我們可以使用 <code>UseWebRoot</code> 方法，來變更預設的存放路徑。</p>
<p>開啟 <code>Program.cs</code>，<code>CreateDefaultBuilder</code> 方法可將 <code>content root</code> 設為目前的目錄。使用 <code>UseWebRoot</code> 方法將 <code>Web root</code> 變更為 <code>public</code>，隨後在 <code>public</code> 放置一張影像檔，實際測試 URL <code>https://localhost:5000/public/MyImages.jpg</code>，結果在未設定前無法讀取 <code>wwwroot</code> 以外的目錄，設定後就能讀取指定目錄。要注意的是，該動作的目標是變更，經變更後，<code>wwwroot</code> 該目錄會停用存取，取而代之的是 <code>public</code>。</p>
<blockquote>
<p>若測試結果不相同，請嘗試清理瀏覽器快取。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Program</span>
    {
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> Main(<span style="color:#66d9ef">string</span>[] args)
        {
            CreateHostBuilder(args).Build().Run();
        }

        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> IHostBuilder CreateHostBuilder(<span style="color:#66d9ef">string</span>[] args) =&gt;
            Host.CreateDefaultBuilder(args)
                .ConfigureWebHostDefaults(webBuilder =&gt;
                {
                    webBuilder.UseStartup&lt;Startup&gt;();
                    <span style="color:#75715e">// 設置
</span><span style="color:#75715e"></span>                    webBuilder.UseWebRoot(<span style="color:#e6db74">&#34;public&#34;</span>);
                });
    }
</code></pre></div><h2 id="註冊-usestaticfiles-middleware">註冊 UseStaticFiles Middleware<a hidden class="anchor" aria-hidden="true" href="#註冊-usestaticfiles-middleware">#</a></h2>
<p>專案在預設情況下，已經在 <code>Startup.cs</code> 註冊靜態檔案中介軟體，在 <code>Configure</code> 方法中可以找到 <code>app.UseStaticFiles()</code>，該段即為用來啟用靜態檔案中介軟體的服務，嘗試將此段註解，實際測試 URL <code>https://localhost:5000/public/MyImages.jpg</code>，得到的結果是無法存取預設的靜態檔案 <code>wwwroot</code>。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    ...
    <span style="color:#75715e">// 啟用靜態檔案
</span><span style="color:#75715e"></span>    app.UseStaticFiles();

    ...
}
</code></pre></div><h2 id="啟用-web-root-以外的目錄檔案">啟用 Web root 以外的目錄檔案<a hidden class="anchor" aria-hidden="true" href="#啟用-web-root-以外的目錄檔案">#</a></h2>
<p>前面使用 <code>UseWebRoot</code> 來改變 <code>Web root</code> 靜態檔案的預設路徑，如果想要同時存取兩個以上的目錄位址，例如可以同時存取 <code>wwwroot</code> 及其它同階層目錄 <code>files</code>，階層如下</p>
<ul>
<li>wwwroot
<ul>
<li>css</li>
<li>images</li>
<li>js</li>
</ul>
</li>
<li>files
<ul>
<li><code>MyImage.jpg</code></li>
</ul>
</li>
</ul>
<p>我們可以藉由設定靜態檔案中介軟體來存取檔案，先啟用存取 <code>wwwroot</code> 目錄之服務，再啟用存取其他目錄之服務。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#75715e">// 需要引用的命名空間
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> System.IO;
<span style="color:#66d9ef">using</span> Microsoft.Extensions.FileProviders;

...

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    ...

    <span style="color:#75715e">// wwwroot
</span><span style="color:#75715e"></span>    app.UseStaticFiles();

    <span style="color:#75715e">// Other
</span><span style="color:#75715e"></span>    app.UseStaticFiles(<span style="color:#66d9ef">new</span> StaticFileOptions
    {
        <span style="color:#75715e">// 檔案提供位址
</span><span style="color:#75715e"></span>        FileProvider = <span style="color:#66d9ef">new</span> PhysicalFileProvider(
            Path.Combine(env.ContentRootPath, <span style="color:#e6db74">&#34;files&#34;</span>)),
        <span style="color:#75715e">// 靜態資源對應的 request path
</span><span style="color:#75715e"></span>        RequestPath = <span style="color:#e6db74">&#34;/staticFiles&#34;</span>
    });

    ...
}
</code></pre></div><p>通過上述設定，<code>/staticFiles</code> 區段公開了 <code>files</code> 目錄階層，實際測試 URL <code>https://localhost:5000/staticFiles/MyImage.jpg</code>，可正常瀏覽該目錄下的靜態檔案，達到 <code>wwwroot</code> 和 <code>files</code> 皆能瀏覽之效果。</p>
<blockquote>
<p>若想停用 <code>wwwroot</code> 存取服務，將 <code>app.UseStaticFiles()</code> 註解調即可</p>
</blockquote>
<h2 id="預設檔案">預設檔案<a hidden class="anchor" aria-hidden="true" href="#預設檔案">#</a></h2>
<p>預設頁面是提供訪客在進入網站時的第一個頁面，通常預設頁面會是 <code>index.html</code>，可以透過 <code>UseDefaultFiles</code> 方法來設定靜態檔案目錄的預設頁面，使用該方法時，會要求依序搜尋 <code>wwwroot</code> 資料夾內的檔案，順序如下</p>
<ul>
<li><code>default.htm</code></li>
<li><code>default.html</code></li>
<li><code>index.htm</code></li>
<li><code>index.html</code></li>
</ul>
<p>值得注意，必須在 <code>UseStaticFiles</code> 之前使用 <code>UseDefaultFiles</code>，若後啟用 <code>UseDefaultFiles</code> 服務的話，當 URL 為 <code>/</code> 時，<code>UseStaticFiles</code> 找不到檔案，就會直接回傳找不到，就不會有機會進入 <code>UseStaticFiles</code>。</p>
<p>兩者的職責</p>
<ul>
<li><code>UseDefaultFiles</code> 是嘗試請求預設檔案</li>
<li><code>UseStaticFiles</code> 是回傳請求檔案</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#75715e">// 先啟用
</span><span style="color:#75715e"></span>app.UseDefaultFiles();
<span style="color:#75715e">// 後啟用
</span><span style="color:#75715e"></span>app.UseStaticFiles();
</code></pre></div><p>除了上述預設頁面，還可以自訂預設頁面，使用 <code>DefaultFilesOptions</code> 物件來自定義預設頁面，代碼如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">var</span> options = <span style="color:#66d9ef">new</span> DefaultFilesOptions();
<span style="color:#75715e">// 清空原本預設頁面
</span><span style="color:#75715e"></span>options.DefaultFileNames.Clear();
<span style="color:#75715e">// 添加自定義預設頁面
</span><span style="color:#75715e"></span>options.DefaultFileNames.Add(<span style="color:#e6db74">&#34;myDefault.html&#34;</span>);

<span style="color:#75715e">// 啟用自定義預設頁面
</span><span style="color:#75715e"></span>app.UseDefaultFiles(options);
app.UseStaticFiles();
</code></pre></div><p>使用自訂預設頁面時，如同預設頁面，會依序搜尋 <code>wwwroot</code> 資料夾內的檔案。實際測試在 <code>wwwroot</code> 新增 <code>myDefault.html</code>，將專案 run 起來，發現 <code>https://localhost:5000/</code> 瀏覽頁面已經被更換為 <code>myDefault.html</code>，不再是預設的 <code>~/Home/Index</code>。</p>
<p>如果是想添加自訂的預設頁面，但不想將原先定義的四個預設頁面清除，在上述代碼中將 <code>options.DefaultFileNames.Clear()</code> 拿掉即可。</p>
<h2 id="瀏覽目錄">瀏覽目錄<a hidden class="anchor" aria-hidden="true" href="#瀏覽目錄">#</a></h2>
<p>瀏覽目錄允許在指定的路徑中列出目錄，基於安全性的考量，預設會停用瀏覽目錄，但可以透過 <code>AddDirectoryBrowser</code> 及 <code>UseDirectoryBrowser</code> 來註冊及啟用該服務。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> ConfigureServices(IServiceCollection services)
{
    <span style="color:#75715e">// 註冊瀏覽目錄服務
</span><span style="color:#75715e"></span>    services.AddDirectoryBrowser();
}

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    ...

    <span style="color:#75715e">// 啟用瀏覽目錄服務
</span><span style="color:#75715e"></span>    app.UseDirectoryBrowser();

    ...
}
</code></pre></div><p>在空建構子的情況下，預設啟用的目錄為 <code>wwwroot</code>，例如跳轉到 <code>https://localhost:5000/lib/</code>，會列出 <code>/wwwroot/lib</code> 目錄下的所有檔案。</p>
<p><img loading="lazy" src="../../images/NetCore/NetCore004.png" alt=""  />
</p>
<p>若欲啟用瀏覽指定路徑的目錄，要先使用靜態檔案中介軟體來啟用存取檔案服務，接著再啟用瀏覽目錄服務。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> ConfigureServices(IServiceCollection services)
{
    <span style="color:#75715e">// 註冊瀏覽目錄服務
</span><span style="color:#75715e"></span>    services.AddDirectoryBrowser();
}

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    <span style="color:#75715e">// 啟用指定目錄存取
</span><span style="color:#75715e"></span>    app.UseStaticFiles(<span style="color:#66d9ef">new</span> StaticFileOptions
    {
        FileProvider = <span style="color:#66d9ef">new</span> PhysicalFileProvider(
            Path.Combine(env.ContentRootPath, <span style="color:#e6db74">&#34;files&#34;</span>)),
        RequestPath = <span style="color:#e6db74">&#34;/staticFiles&#34;</span>
    });

    <span style="color:#75715e">// 啟用瀏覽指定目錄服務
</span><span style="color:#75715e"></span>    app.UseDirectoryBrowser(<span style="color:#66d9ef">new</span> DirectoryBrowserOptions
    {
        FileProvider = <span style="color:#66d9ef">new</span> PhysicalFileProvider(
            Path.Combine(env.WebRootPath, <span style="color:#e6db74">&#34;files&#34;</span>)),
        RequestPath = <span style="color:#e6db74">&#34;/staticFiles&#34;</span>
    });
}
</code></pre></div><h2 id="usefileserver">UseFileServer<a hidden class="anchor" aria-hidden="true" href="#usefileserver">#</a></h2>
<p>先前介紹停用檔案存取的限制，以及開啟瀏覽目錄，<code>UseFileServer</code> 方法結合了 <code>UseStaticFiles</code>、<code>UseDefaultFiles</code>，也可以選擇性的結合 <code>UseDirectoryBrowser</code>。</p>
<p>直接使用 <code>UseFileServer</code> 來啟用檔案服務，等同於使用 <code>UseDefaultFiles</code> 和 <code>UseStaticFiles</code>。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    <span style="color:#75715e">// 啟用檔案服務
</span><span style="color:#75715e"></span>    app.UseFileServer();

    <span style="color:#75715e">// 等於同時使用下列兩種方法
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// app.UseDefaultFiles();
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// app.UseStaticFiles();
</span><span style="color:#75715e"></span>}
</code></pre></div><p>帶入參數 <code>enableDirectoryBrowsin: true</code> 來啟用瀏覽目錄、啟用存取靜態檔案以及預設檔案，預設頁面會更換為列出 <code>wwwroot</code> 目錄</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp">app.UseFileServer(enableDirectoryBrowsing: <span style="color:#66d9ef">true</span>);
</code></pre></div><p>上面目標是 <code>wwwroot</code> 目錄，欲指定其他目錄，代碼如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Configure(IApplicationBuilder app, IWebHostEnvironment env)
{
    app.UseFileServer(<span style="color:#66d9ef">new</span> FileServerOptions
    {
        FileProvider = <span style="color:#66d9ef">new</span> PhysicalFileProvider(
            Path.Combine(env.ContentRootPath, <span style="color:#e6db74">&#34;files&#34;</span>)),
        RequestPath = <span style="color:#e6db74">&#34;/staticFiles&#34;</span>,
        EnableDirectoryBrowsing = <span style="color:#66d9ef">true</span>
    });
}
</code></pre></div><p>官方寫說若 <code>EnabledDirectoryBrowsing</code> 的 value 為 true 時，需要調用 <code>AddDirectoryBrowser()</code>，在這裡筆者沒有註冊該服務依然可以啟用目錄，若無法瀏覽目錄的朋友，可以試著在 <code>ConfigureServices</code> 註冊該服務，看是否有效果。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-CSharp" data-lang="CSharp"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> ConfigureServices(IServiceCollection services)
{
    <span style="color:#75715e">// 註冊瀏覽目錄服務
</span><span style="color:#75715e"></span>    services.AddDirectoryBrowser();
}
</code></pre></div><h1 id="note">Note<a hidden class="anchor" aria-hidden="true" href="#note">#</a></h1>
<p>過去網站在存取靜態檔案並沒有什麼限制，只要知道目錄結構，就能存取檔案，如今 .NET Core 對此做出變革，雖然需要花點時間了解，網站安全性也相對的提升，了解如何操作靜態檔案後，就可好好建構出乾淨清晰的目錄架構了！</p>
<h1 id="reference">Reference<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h1>
<p><a href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/static-files?view=aspnetcore-5.0">Static files in ASP.NET Core</a></p>

</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://fakestandard.github.io/tags/dotnet-core/">DotNET Core</a></li>
      <li><a href="https://fakestandard.github.io/tags/asp.net-core-5/">ASP.NET Core 5</a></li>
      <li><a href="https://fakestandard.github.io/tags/csharp/">CSharp</a></li>
      <li><a href="https://fakestandard.github.io/tags/static-files/">Static Files</a></li>
    </ul>

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET Core】靜態檔案 Static Files on twitter"
        href="https://twitter.com/intent/tweet/?text=%e3%80%90.NET%20Core%e3%80%91%e9%9d%9c%e6%85%8b%e6%aa%94%e6%a1%88%20Static%20Files&amp;url=https%3a%2f%2ffakestandard.github.io%2fnetcore%2fnetcore5-4-staticfiles%2f&amp;hashtags=DotNETCore%2cASP.NETCore5%2cCSharp%2cStaticFiles">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET Core】靜態檔案 Static Files on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ffakestandard.github.io%2fnetcore%2fnetcore5-4-staticfiles%2f&amp;title=%e3%80%90.NET%20Core%e3%80%91%e9%9d%9c%e6%85%8b%e6%aa%94%e6%a1%88%20Static%20Files&amp;summary=%e3%80%90.NET%20Core%e3%80%91%e9%9d%9c%e6%85%8b%e6%aa%94%e6%a1%88%20Static%20Files&amp;source=https%3a%2f%2ffakestandard.github.io%2fnetcore%2fnetcore5-4-staticfiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET Core】靜態檔案 Static Files on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2ffakestandard.github.io%2fnetcore%2fnetcore5-4-staticfiles%2f&title=%e3%80%90.NET%20Core%e3%80%91%e9%9d%9c%e6%85%8b%e6%aa%94%e6%a1%88%20Static%20Files">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET Core】靜態檔案 Static Files on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ffakestandard.github.io%2fnetcore%2fnetcore5-4-staticfiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET Core】靜態檔案 Static Files on whatsapp"
        href="https://api.whatsapp.com/send?text=%e3%80%90.NET%20Core%e3%80%91%e9%9d%9c%e6%85%8b%e6%aa%94%e6%a1%88%20Static%20Files%20-%20https%3a%2f%2ffakestandard.github.io%2fnetcore%2fnetcore5-4-staticfiles%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share 【.NET Core】靜態檔案 Static Files on telegram"
        href="https://telegram.me/share/url?text=%e3%80%90.NET%20Core%e3%80%91%e9%9d%9c%e6%85%8b%e6%aa%94%e6%a1%88%20Static%20Files&amp;url=https%3a%2f%2ffakestandard.github.io%2fnetcore%2fnetcore5-4-staticfiles%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="https://fakestandard.github.io/">How can I help</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
